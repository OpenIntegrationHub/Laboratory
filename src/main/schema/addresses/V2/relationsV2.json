{
  "$schema": "http://json-schema.org/draft-06/schema#",
  "$id": "https://github.com/openintegrationhub/Data-and-Domain-Models/blob/master/src/main/schema/addresses/relationsV2.json",
  "title": "Relationship",
  "description": "Describes the relationship between a person and an organization",
  "type": "object",
  "allOf": [
    {
      "$ref": "../oih-data-record.json"
    }
  ],
  "anyOf": [
    {
      "$ref": "#/definitions/OrganizationToPersonRelationship"
    },
    {
      "$ref": "#/definitions/PersonToPersonRelationship"
    },
    {
      "$ref": "#/definitions/OrganizationToOrganizationRelationship"
    },
    {
      "$ref": "#/definitions/OrganizationToAddressRelationship"
    },
    {
      "$ref": "#/definitions/PersonToAddressRelationship"
    }
  ],
  "definitions":{
    "OrganizationToPersonRelationship":{
      "type": "object",
      "description": "Describes the relationship between a person and an organization",
      "properties": {
        "targetUId": {
          "type": "string",
          "description": "Unique identifier of the organization"
        },
        "sourceUId": {
          "type": "string",
          "description": "Unique identifier of the person"
        },
        "function": {
          "type": "string",
          "description": "Function of the person within the organization",
          "examples": [
            "Software architect"
          ]
        },
        "department": {
          "type": "string",
          "description": "Department the person works at",
          "examples": [
            "sales"
          ]
        }
      }
    },
    "PersonToPersonRelationship": {
      "type": "object",
      "description": "Describes the relationship between two persons",
      "properties": {
        "targetUId": {
          "type": "string",
          "description": "Unique identifier of the first person"
        },
        "sourceUId": {
          "type": "string",
          "description": "Unique identifier of the second person"
        }
      }
    },
    "OrganizationToOrganizationRelationship": {
      "type": "object",
      "description": "Describes the relationship between two organizations",
      "properties": {
        "targetUId": {
          "type": "string",
          "description": "Unique identifier of the first organization"
        },
        "sourceUId": {
          "type": "string",
          "description": "Unique identifier of the second organization"
        }
      }
    },
    "OrganizationToAddressRelationship": {
      "type": "object",
      "description": "Describes the relationship between two organizations",
      "properties": {
        "targetUId": {
          "type": "string",
          "description": "Unique identifier of the organization"
        },
        "sourceUId": {
          "type": "string",
          "description": "Unique identifier of the address"
        }
      }
    },
    "PersonToAddressRelationship": {
      "type": "object",
      "description": "Describes the relationship between two organizations",
      "properties": {
        "targetUId": {
          "type": "string",
          "description": "Unique identifier of the person"
        },
        "sourceUId": {
          "type": "string",
          "description": "Unique identifier of the address"
        }
      }
    }
  },
  "properties": {
    "label": {
      "type": "string",
      "description": "Describes the type of relationship",
      "examples": [
        "employee",
        "delivery",
        "subsidiary"
      ]
    }
  }
}
